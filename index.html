<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Seismos Earnings Intelligence — Q4 2025</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:wght@400;500;600;700&family=DM+Serif+Display&family=IBM+Plex+Mono:wght@400;500;600;700&display=swap" rel="stylesheet">
<style>
:root {
  --bg: #080b14;
  --bg2: #0d1120;
  --surface: #111827;
  --surface2: #1a2035;
  --surface3: #212942;
  --border: #1e2a45;
  --border-light: #2a3a5c;
  --text: #e2e5f0;
  --text-dim: #8892b0;
  --text-faint: #5a6480;
  --accent: #d4a853;
  --accent-dim: rgba(212,168,83,0.12);
  --accent-mid: rgba(212,168,83,0.25);
  --high: #ef4868;
  --high-dim: rgba(239,72,104,0.10);
  --high-glow: rgba(239,72,104,0.25);
  --medium: #f0a030;
  --medium-dim: rgba(240,160,48,0.10);
  --low: #34d879;
  --low-dim: rgba(52,216,121,0.10);
  --serif: 'DM Serif Display', Georgia, serif;
  --mono: 'IBM Plex Mono', 'Menlo', monospace;
  --sans: 'DM Sans', -apple-system, BlinkMacSystemFont, sans-serif;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
html { scroll-behavior: smooth; }
body {
  font-family: var(--sans);
  background: var(--bg);
  color: var(--text);
  line-height: 1.6;
  min-height: 100vh;
  background-image:
    radial-gradient(ellipse at 20% 0%, rgba(212,168,83,0.03) 0%, transparent 50%),
    radial-gradient(ellipse at 80% 100%, rgba(239,72,104,0.02) 0%, transparent 50%);
}
/* Topo pattern overlay */
body::before {
  content: '';
  position: fixed;
  inset: 0;
  background-image: url("data:image/svg+xml,%3Csvg width='400' height='400' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M200 20c80 0 160 60 160 140s-60 160-160 180S20 300 20 200 120 20 200 20' fill='none' stroke='%231a2540' stroke-width='0.5'/%3E%3Cpath d='M200 60c60 0 120 45 120 105s-45 120-120 135S60 270 60 200 140 60 200 60' fill='none' stroke='%231a2540' stroke-width='0.5'/%3E%3Cpath d='M200 100c40 0 80 30 80 70s-30 80-80 90-80-30-80-90 40-70 80-70' fill='none' stroke='%231a2540' stroke-width='0.5'/%3E%3C/svg%3E");
  background-size: 400px 400px;
  opacity: 0.4;
  pointer-events: none;
  z-index: 0;
}
.container { max-width: 1440px; margin: 0 auto; padding: 32px 40px; position: relative; z-index: 1; }

/* === HEADER === */
.header {
  display: flex; justify-content: space-between; align-items: flex-end;
  padding: 48px 0 32px; margin-bottom: 40px;
  border-bottom: 1px solid var(--border);
  position: relative;
}
.header::after {
  content: '';
  position: absolute; bottom: -1px; left: 0; width: 120px; height: 2px;
  background: linear-gradient(90deg, var(--accent), transparent);
}
.header h1 {
  font-family: var(--serif); font-size: 34px; font-weight: 400;
  letter-spacing: -0.3px; color: var(--text);
}
.header h1 span {
  color: var(--accent);
  position: relative;
}
.header-meta { text-align: right; }
.header-meta div:first-child {
  font-family: var(--mono); font-size: 13px; font-weight: 500;
  color: var(--accent); letter-spacing: 1px; text-transform: uppercase;
}
.header-meta div:last-child {
  font-size: 13px; color: var(--text-dim); margin-top: 2px;
}

/* === STATS === */
.stats {
  display: grid; grid-template-columns: repeat(5, 1fr); gap: 16px;
  margin-bottom: 40px;
}
.stat-card {
  background: linear-gradient(135deg, var(--surface) 0%, var(--surface2) 100%);
  border: 1px solid var(--border);
  border-radius: 10px; padding: 22px 24px;
  position: relative; overflow: hidden;
  animation: fadeUp 0.5s ease both;
}
.stat-card::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
  background: var(--border-light);
}
.stat-card:nth-child(1)::before { background: var(--accent); }
.stat-card:nth-child(2)::before { background: var(--high); }
.stat-card:nth-child(3)::before { background: var(--medium); }
.stat-card:nth-child(4)::before { background: var(--low); }
.stat-card .label {
  font-family: var(--mono); font-size: 10px; font-weight: 500;
  text-transform: uppercase; letter-spacing: 1.5px;
  color: var(--text-faint); margin-bottom: 8px;
}
.stat-card .value { font-family: var(--mono); font-size: 32px; font-weight: 700; }
.stat-card .value.high { color: var(--high); }
.stat-card .value.medium { color: var(--medium); }
.stat-card .value.low { color: var(--low); }
.stat-card .value.total { color: var(--accent); }

/* === TABS === */
.tabs {
  display: flex; gap: 0; margin-bottom: 36px;
  border-bottom: 1px solid var(--border);
}
.tab {
  padding: 14px 28px; font-family: var(--mono); font-size: 12px; font-weight: 600;
  color: var(--text-faint); cursor: pointer; text-transform: uppercase;
  letter-spacing: 1px; border-bottom: 2px solid transparent;
  margin-bottom: -1px; transition: all 0.25s ease;
}
.tab:hover { color: var(--text-dim); }
.tab.active { color: var(--accent); border-bottom-color: var(--accent); }
.tab-content { display: none; animation: fadeIn 0.3s ease; }
.tab-content.active { display: block; }

/* === EXEC SUMMARY === */
.exec-summary {
  background: linear-gradient(135deg, var(--surface) 0%, rgba(212,168,83,0.03) 100%);
  border: 1px solid var(--border); border-left: 3px solid var(--accent);
  border-radius: 2px 10px 10px 2px;
  padding: 32px; margin-bottom: 36px;
}
.exec-summary h2 {
  font-family: var(--serif); font-size: 22px; font-weight: 400;
  margin-bottom: 20px; color: var(--text);
}
.finding {
  display: flex; gap: 14px; align-items: flex-start;
  margin-bottom: 10px; padding: 12px 16px;
  background: var(--surface2); border-radius: 6px;
  border-left: 2px solid var(--border-light);
  transition: border-color 0.2s;
}
.finding:hover { border-left-color: var(--accent); }
.finding-num {
  font-family: var(--mono); font-size: 12px; font-weight: 700;
  color: var(--accent); min-width: 20px; padding-top: 1px;
}
.finding-text { font-size: 14px; line-height: 1.55; }
.finding-text strong { color: #fff; font-weight: 600; }

/* === SECTIONS === */
.section { margin-bottom: 44px; }
.section-header {
  font-family: var(--serif); font-size: 20px; font-weight: 400;
  margin-bottom: 18px; display: flex; align-items: center; gap: 12px;
  color: var(--text);
}

/* === BADGES === */
.badge {
  display: inline-block; font-family: var(--mono); font-size: 10px; font-weight: 600;
  padding: 3px 10px; border-radius: 3px; text-transform: uppercase; letter-spacing: 0.8px;
}
.badge-high { background: var(--high-dim); color: var(--high); border: 1px solid rgba(239,72,104,0.2); }
.badge-medium { background: var(--medium-dim); color: var(--medium); border: 1px solid rgba(240,160,48,0.2); }
.badge-low { background: var(--low-dim); color: var(--low); border: 1px solid rgba(52,216,121,0.2); }
.badge-critical { background: rgba(239,72,104,0.18); color: #ff6b82; border: 1px solid rgba(239,72,104,0.35); }
.badge-partner { background: var(--accent-dim); color: var(--accent); border: 1px solid rgba(212,168,83,0.25); }

/* === TABLES === */
table { width: 100%; border-collapse: collapse; }
th {
  text-align: left; padding: 10px 16px;
  font-family: var(--mono); font-size: 10px; font-weight: 600;
  text-transform: uppercase; letter-spacing: 1.2px;
  color: var(--text-faint); border-bottom: 1px solid var(--border-light);
  background: var(--bg2); position: sticky; top: 0; z-index: 2;
}
td {
  padding: 12px 16px; border-bottom: 1px solid var(--border);
  font-size: 13px; vertical-align: top; line-height: 1.5;
}
tr { transition: background 0.15s; }
tr:hover td { background: rgba(212,168,83,0.03); }
.ticker { font-family: var(--mono); font-weight: 700; color: var(--accent); font-size: 13px; }

/* === COMPANY CARDS === */
.company-grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(440px, 1fr)); gap: 16px; }
.company-card {
  background: var(--surface); border: 1px solid var(--border);
  border-left: 3px solid var(--high); border-radius: 2px 10px 10px 2px;
  padding: 24px; transition: all 0.25s ease;
  animation: fadeUp 0.5s ease both;
}
.company-card:hover { border-left-color: var(--accent); box-shadow: 0 4px 24px rgba(0,0,0,0.3); transform: translateY(-1px); }
.card-header { display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 14px; }
.ticker-name { display: flex; align-items: baseline; gap: 10px; }
.card-ticker { font-family: var(--mono); font-size: 18px; font-weight: 700; color: var(--accent); }
.card-name { font-size: 14px; color: var(--text-dim); }
.card-seg {
  font-family: var(--mono); font-size: 10px; font-weight: 500; color: var(--text-faint);
  background: var(--surface2); padding: 3px 10px; border-radius: 3px;
  text-transform: uppercase; letter-spacing: 0.5px;
}
.card-row { display: flex; gap: 16px; margin-bottom: 5px; font-size: 13px; }
.card-label {
  font-family: var(--mono); font-size: 11px; font-weight: 500;
  color: var(--text-faint); min-width: 85px; flex-shrink: 0;
  text-transform: uppercase; letter-spacing: 0.5px; padding-top: 1px;
}
.why-box {
  font-size: 13px; line-height: 1.5;
  background: var(--high-dim); border-left: 2px solid var(--high);
  padding: 10px 14px; border-radius: 0 6px 6px 0;
  margin-top: 12px; color: #ffa0b0;
}
.card-expand {
  font-size: 13px; color: var(--text-dim);
  margin-top: 14px; padding-top: 14px;
  border-top: 1px solid var(--border);
}
.card-expand summary {
  cursor: pointer; font-family: var(--mono); font-weight: 600;
  color: var(--text); font-size: 12px; text-transform: uppercase;
  letter-spacing: 0.5px;
}
.card-expand summary:hover { color: var(--accent); }
.card-expand p { margin-top: 10px; line-height: 1.6; }
.card-quote {
  font-style: italic; color: var(--text-dim); font-size: 13px;
  margin-top: 10px; padding-left: 14px;
  border-left: 2px solid var(--accent);
}
.completions-col { max-width: 300px; }

/* === THEMES === */
.theme {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 8px; padding: 22px; margin-bottom: 12px;
  transition: border-color 0.2s;
}
.theme:hover { border-color: var(--border-light); }
.theme h3 { font-family: var(--serif); font-size: 16px; font-weight: 400; margin-bottom: 8px; }
.theme p { font-size: 14px; color: var(--text-dim); line-height: 1.55; }

/* === ACTIONS TABLE === */
.action-num {
  font-family: var(--mono); font-size: 16px; font-weight: 700;
  color: var(--accent); width: 40px; text-align: center; opacity: 0.6;
}
.action-target { font-family: var(--mono); font-weight: 700; color: var(--accent); white-space: nowrap; }

/* === FILTERS === */
.filters { display: flex; gap: 8px; margin-bottom: 16px; flex-wrap: wrap; align-items: center; }
.filter-btn {
  background: var(--surface); border: 1px solid var(--border);
  color: var(--text-faint); padding: 6px 16px; border-radius: 3px;
  cursor: pointer; font-family: var(--mono); font-size: 11px;
  font-weight: 500; text-transform: uppercase; letter-spacing: 0.5px;
  transition: all 0.2s;
}
.filter-btn:hover { color: var(--text); border-color: var(--border-light); }
.filter-btn.active { background: var(--accent-dim); color: var(--accent); border-color: rgba(212,168,83,0.3); }
.search-box {
  background: var(--surface); border: 1px solid var(--border);
  color: var(--text); padding: 8px 16px; border-radius: 6px;
  font-family: var(--sans); font-size: 13px; width: 260px;
  transition: border-color 0.2s;
}
.search-box:focus { outline: none; border-color: var(--accent); }
.search-box::placeholder { color: var(--text-faint); }

/* === SCORING TAB === */
.score-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; margin-bottom: 36px; }
.score-card {
  background: var(--surface); border: 1px solid var(--border);
  border-radius: 8px; padding: 24px; position: relative; overflow: hidden;
}
.score-card::before {
  content: ''; position: absolute; top: 0; left: 0; right: 0; height: 2px;
}
.score-card:nth-child(1)::before { background: var(--high); }
.score-card:nth-child(2)::before { background: var(--medium); }
.score-card:nth-child(3)::before { background: var(--low); }
.score-card h3 {
  font-family: var(--serif); font-size: 16px; font-weight: 400;
  margin-bottom: 14px; display: flex; align-items: center; gap: 10px;
}
.score-card ul { list-style: none; padding: 0; }
.score-card li {
  font-size: 13px; color: var(--text-dim); padding: 7px 0;
  border-bottom: 1px solid var(--border);
}
.score-card li:last-child { border-bottom: none; }
.criteria-tag {
  display: inline-block; font-family: var(--mono); font-size: 9px; font-weight: 600;
  padding: 2px 7px; border-radius: 2px; margin-right: 6px;
  text-transform: uppercase; letter-spacing: 0.5px;
}
.criteria-high { background: var(--high-dim); color: var(--high); }
.criteria-med { background: var(--medium-dim); color: var(--medium); }
.criteria-low { background: var(--low-dim); color: var(--low); }

/* === COVERAGE === */
.coverage-table td.status-covered { color: var(--low); }
.coverage-table td.status-missing { color: var(--high); }
.coverage-table td.status-partial { color: var(--medium); }
.progress-bar { height: 6px; background: var(--surface3); border-radius: 3px; overflow: hidden; margin-top: 10px; }
.progress-fill { height: 100%; border-radius: 3px; background: linear-gradient(90deg, var(--high), var(--medium), var(--low)); }

/* === FOOTER === */
.footer {
  border-top: 1px solid var(--border); padding-top: 28px; margin-top: 56px;
  color: var(--text-faint); font-size: 12px; text-align: center;
  font-family: var(--mono); letter-spacing: 0.3px;
}
.footer a { color: var(--accent); text-decoration: none; }
.footer a:hover { text-decoration: underline; }

/* === ANIMATIONS === */
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes fadeUp { from { opacity: 0; transform: translateY(12px); } to { opacity: 1; transform: translateY(0); } }
.stat-card:nth-child(1) { animation-delay: 0s; }
.stat-card:nth-child(2) { animation-delay: 0.05s; }
.stat-card:nth-child(3) { animation-delay: 0.1s; }
.stat-card:nth-child(4) { animation-delay: 0.15s; }
.stat-card:nth-child(5) { animation-delay: 0.2s; }
.company-card:nth-child(1) { animation-delay: 0s; }
.company-card:nth-child(2) { animation-delay: 0.04s; }
.company-card:nth-child(3) { animation-delay: 0.08s; }
.company-card:nth-child(4) { animation-delay: 0.12s; }
.company-card:nth-child(5) { animation-delay: 0.16s; }
.company-card:nth-child(6) { animation-delay: 0.2s; }

/* === RESPONSIVE === */
@media (max-width: 1100px) { .stats { grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 900px) {
  .stats { grid-template-columns: repeat(2, 1fr); }
  .score-grid { grid-template-columns: 1fr; }
  .company-grid { grid-template-columns: 1fr; }
  .container { padding: 20px; }
  .header { flex-direction: column; align-items: flex-start; gap: 12px; }
  .header-meta { text-align: left; }
}
</style>
</head>
<body>
<div class="container">
  <div class="header">
    <div><h1><span>Seismos</span> Earnings Intelligence</h1></div>
    <div class="header-meta"><div>Q4 2025 Report</div><div>Generated Feb 27, 2026</div></div>
  </div>
  <div class="stats" id="stats"></div>

  <div class="tabs">
    <div class="tab active" data-tab="report">Report</div>
    <div class="tab" data-tab="scoring">Scoring Model</div>
    <div class="tab" data-tab="coverage">Coverage &amp; Gaps</div>
  </div>

  <!-- TAB: Report -->
  <div class="tab-content active" id="tab-report">
    <div class="exec-summary"><h2>Executive Summary</h2><div id="findings"></div></div>
    <div class="section"><div class="section-header">Competitive Threat Assessment</div><table id="threat-table"></table></div>
    <div class="section"><div class="section-header">High Relevance <span class="badge badge-high" id="high-count"></span></div><div class="company-grid" id="high-grid"></div></div>
    <div class="section">
      <div class="section-header">Medium Relevance <span class="badge badge-medium" id="med-count"></span></div>
      <div class="filters">
        <input type="text" class="search-box" placeholder="Search companies..." id="search-med">
        <button class="filter-btn active" data-seg="all">All</button>
        <button class="filter-btn" data-seg="Operator">Operators</button>
        <button class="filter-btn" data-seg="OFS">OFS</button>
        <button class="filter-btn" data-seg="Major">Majors</button>
      </div>
      <table id="med-table"></table>
    </div>
    <div class="section"><div class="section-header">Low Relevance <span class="badge badge-low" id="low-count"></span></div><table id="low-table"></table></div>
    <div class="section"><div class="section-header">Market Themes</div><div id="themes"></div></div>
    <div class="section"><div class="section-header">Recommended Actions</div><table id="actions"></table></div>
  </div>

  <!-- TAB: Scoring Model -->
  <div class="tab-content" id="tab-scoring">
    <div class="exec-summary" style="margin-bottom:36px">
      <h2>Seismos Relevance Scoring Model</h2>
      <p style="color:var(--text-dim);font-size:14px;margin-top:10px">Each company is scored based on how relevant their Q4 2025 earnings call content is to Seismos' closed-loop fracturing (CLF) technology and Machina platform. Scoring is based on explicit mentions and signals in earnings call transcripts.</p>
    </div>
    <div class="score-grid">
      <div class="score-card">
        <h3><span class="badge badge-high">HIGH</span> Direct Relevance</h3>
        <ul>
          <li><span class="criteria-tag criteria-high">Must have</span> At least one of these signals:</li>
          <li>Mentions CLF, closed-loop fracturing, or acoustic sensing</li>
          <li>Names Seismos, SAFA, or Machina directly</li>
          <li>Discusses real-time frac monitoring or diagnostics during pumping</li>
          <li>References perf efficiency optimization or stage-level quality control</li>
          <li>Mentions competitor tech: Zeus IQ (HAL), Atlas IQ (LBRT)</li>
          <li>Describes in-house real-time frac optimization algorithms</li>
          <li>Running proprietary completions intelligence platforms</li>
        </ul>
      </div>
      <div class="score-card">
        <h3><span class="badge badge-medium">MEDIUM</span> Indirect Relevance</h3>
        <ul>
          <li><span class="criteria-tag criteria-med">Indicates</span> Active completions technology engagement:</li>
          <li>Discusses simul-frac, zipper frac, or continuous pumping adoption</li>
          <li>Mentions e-frac / electric frac fleet transition</li>
          <li>References digital completions or data-driven frac design</li>
          <li>Reports frac efficiency improvements (stages/day, cost/ft)</li>
          <li>Major completions capex spender (&gt;$500M D&amp;C budget)</li>
          <li>Active completions technology trials (surfactants, diverters)</li>
          <li>Discusses completions service provider selection or changes</li>
        </ul>
      </div>
      <div class="score-card">
        <h3><span class="badge badge-low">LOW</span> Minimal Relevance</h3>
        <ul>
          <li><span class="criteria-tag criteria-low">Indicates</span> No meaningful completions tech signal:</li>
          <li>No completions technology discussion in earnings call</li>
          <li>Drilling-only contractor (no frac services)</li>
          <li>Offshore/subsea focus with no onshore completions</li>
          <li>Oil sands / SAGD producer (no hydraulic fracturing)</li>
          <li>Non-operator with no control over completions decisions</li>
          <li>Corporate-level earnings that don't cover field operations</li>
          <li>International company with no unconventional shale exposure</li>
        </ul>
      </div>
    </div>
    <div class="section">
      <div class="section-header">Score Distribution</div>
      <div id="score-distribution"></div>
    </div>
    <div class="section">
      <div class="section-header">All Companies by Score</div>
      <div class="filters">
        <input type="text" class="search-box" placeholder="Search all companies..." id="search-all">
      </div>
      <table id="all-table"></table>
    </div>
  </div>

  <!-- TAB: Coverage & Gaps -->
  <div class="tab-content" id="tab-coverage">
    <div class="exec-summary" style="margin-bottom:36px">
      <h2>Coverage Analysis</h2>
      <p style="color:var(--text-dim);font-size:14px;margin-top:10px">Tracking coverage across the 80-company watchlist. Companies are flagged as covered (in report), partial (limited data), or missing (not yet analyzed).</p>
      <div style="display:flex;gap:32px;margin-top:20px">
        <div><span style="font-family:var(--mono);font-size:30px;font-weight:700;color:var(--low)" id="cov-covered">0</span><span style="color:var(--text-faint);font-size:12px;margin-left:8px;font-family:var(--mono);text-transform:uppercase;letter-spacing:1px">Covered</span></div>
        <div><span style="font-family:var(--mono);font-size:30px;font-weight:700;color:var(--medium)" id="cov-partial">0</span><span style="color:var(--text-faint);font-size:12px;margin-left:8px;font-family:var(--mono);text-transform:uppercase;letter-spacing:1px">Partial</span></div>
        <div><span style="font-family:var(--mono);font-size:30px;font-weight:700;color:var(--high)" id="cov-missing">0</span><span style="color:var(--text-faint);font-size:12px;margin-left:8px;font-family:var(--mono);text-transform:uppercase;letter-spacing:1px">Missing</span></div>
      </div>
      <div class="progress-bar" style="margin-top:18px;width:100%"><div class="progress-fill" id="cov-bar" style="width:0%"></div></div>
    </div>
    <div class="section">
      <div class="section-header">Missing Companies</div>
      <table id="missing-table" class="coverage-table"></table>
    </div>
    <div class="section">
      <div class="section-header">Data Quality Breakdown</div>
      <table id="quality-table"></table>
    </div>
  </div>

  <div class="footer">Seismos Earnings Intelligence &mdash; Prepared by Vibhav Verma &mdash; Sources: Yahoo Finance, Insider Monkey, Motley Fool, Seeking Alpha<br><a href="data/earnings-intel-Q4-2025.csv">Download CSV</a> &bull; <a href="data/earnings-intel-Q4-2025.json">Download JSON</a></div>
</div>
<script>
/* All data rendered from our own pre-generated JSON — no untrusted external input */
let DATA = [];
let currentSegment = 'all';

function esc(s) { const d = document.createElement('div'); d.textContent = s || '\u2014'; return d.textContent; }
function listStr(arr) { return Array.isArray(arr) ? arr.map(esc).join(', ') : esc(arr); }
function trunc(s, n) { s = s || '\u2014'; return s.length > n ? s.substring(0, n) + '...' : s; }

function el(tag, attrs, children) {
  const e = document.createElement(tag);
  if (attrs) Object.entries(attrs).forEach(([k,v]) => { if (k === 'class') e.className = v; else if (k === 'text') e.textContent = v; else e.setAttribute(k, v); });
  if (children) children.forEach(c => { if (typeof c === 'string') e.appendChild(document.createTextNode(c)); else if (c) e.appendChild(c); });
  return e;
}

function buildStats(high, med, low) {
  const container = document.getElementById('stats');
  container.replaceChildren();
  [{l:'Total Companies',v:DATA.length,c:'total'},{l:'High Relevance',v:high.length,c:'high'},{l:'Medium Relevance',v:med.length,c:'medium'},{l:'Low Relevance',v:low.length,c:'low'},{l:'Period',v:'Q4 2025',c:'',small:true}].forEach(s => {
    const card = el('div',{class:'stat-card'});
    card.appendChild(el('div',{class:'label',text:s.l}));
    const val = el('div',{class:'value'+(s.c?' '+s.c:''),text:String(s.v)});
    if (s.small) val.style.cssText = 'font-size:18px;margin-top:6px';
    card.appendChild(val);
    container.appendChild(card);
  });
}

function buildFindings() {
  const container = document.getElementById('findings');
  container.replaceChildren();
  const items = [
    ['The completions intelligence market is a three-horse race.', 'Halliburton\u2019s Zeus IQ, Liberty\u2019s Atlas IQ, and ProFrac/Seismos CLF are the three main platforms competing for real-time completions optimization.'],
    ['Zeus IQ is gaining traction fast.', 'Halliburton reported 8% quarter-over-quarter adoption increase with customers seeing 15\u201320% stage efficiency improvement.'],
    ['Liberty launched Atlas IQ in Q4.', 'A new completions intelligence platform targeting the same value proposition as CLF.'],
    ['ProFrac explicitly names Seismos as strategic partner.', 'CLF is deployed in both supervised and unsupervised modes.'],
    ['Simul-frac is now table stakes.', 'CRGY at 70% adoption, COP and PR actively deploying \u2014 creating complexity where real-time monitoring adds the most value.'],
    ['Operators are signaling readiness for CLF.', 'Multiple companies discuss \u201creal-time optimization\u201d and \u201cdata-driven completions\u201d approaches.'],
  ];
  items.forEach((f,i) => {
    const row = el('div',{class:'finding'});
    row.appendChild(el('div',{class:'finding-num',text:String(i+1)}));
    const txt = el('div',{class:'finding-text'});
    txt.appendChild(el('strong',{text:f[0]}));
    txt.appendChild(document.createTextNode(' ' + f[1]));
    row.appendChild(txt);
    container.appendChild(row);
  });
}

function buildThreats() {
  const table = document.getElementById('threat-table');
  table.replaceChildren();
  const thead = el('thead'); const hrow = el('tr');
  ['Company','Product','Key Signal','Threat Level'].forEach(h => hrow.appendChild(el('th',{text:h})));
  thead.appendChild(hrow); table.appendChild(thead);
  const tbody = el('tbody');
  const threats = [
    {t:'HAL',n:'Halliburton',p:'Zeus IQ',s:'8% QoQ adoption increase, 15\u201320% stage efficiency',l:'Critical',lc:'badge-critical'},
    {t:'LBRT',n:'Liberty Energy',p:'Atlas IQ',s:'New completions intelligence platform, Q4 2025 launch',l:'High',lc:'badge-high'},
    {t:'ACDC',n:'ProFrac',p:'Seismos CLF',s:'Named Seismos as partner; supervised + unsupervised modes',l:'Partner',lc:'badge-partner'},
    {t:'CLB',n:'Core Laboratories',p:'SpectraStim Tracers',s:'Post-job tracer diagnostics \u2014 complementary to real-time acoustic',l:'Adjacent',lc:'badge-medium'},
  ];
  threats.forEach(t => {
    const row = el('tr');
    const c1 = el('td'); c1.appendChild(el('span',{class:'ticker',text:t.t})); c1.appendChild(document.createTextNode(' '+t.n)); row.appendChild(c1);
    row.appendChild(el('td',{text:t.p}));
    row.appendChild(el('td',{text:t.s}));
    const c4 = el('td'); c4.appendChild(el('span',{class:'badge '+t.lc,text:t.l})); row.appendChild(c4);
    tbody.appendChild(row);
  });
  table.appendChild(tbody);
}

function buildHighCards(high) {
  document.getElementById('high-count').textContent = high.length + ' companies';
  const grid = document.getElementById('high-grid');
  grid.replaceChildren();
  high.forEach(c => {
    const card = el('div',{class:'company-card'});
    const header = el('div',{class:'card-header'});
    const tn = el('div',{class:'ticker-name'});
    tn.appendChild(el('span',{class:'card-ticker',text:c.ticker}));
    tn.appendChild(el('span',{class:'card-name',text:c.company}));
    header.appendChild(tn);
    header.appendChild(el('span',{class:'card-seg',text:c.segment||''}));
    card.appendChild(header);
    [['Basins',listStr(c.basin_focus)],['2026 Capex',esc(c.capex_guidance)],['Technology',listStr(c.technology_mentions)],['Efficiency',esc(c.efficiency_metrics)]].forEach(([lbl,val]) => {
      const row = el('div',{class:'card-row'});
      row.appendChild(el('span',{class:'card-label',text:lbl}));
      row.appendChild(el('span',{text:val}));
      card.appendChild(row);
    });
    card.appendChild(el('div',{class:'why-box',text:c.seismos_relevance_reason||''}));
    const expand = el('div',{class:'card-expand'});
    const details = el('details');
    details.appendChild(el('summary',{text:'Full Details'}));
    const strat = el('p'); strat.appendChild(el('strong',{text:'Strategy: '})); strat.appendChild(document.createTextNode(esc(c.strategy_summary))); details.appendChild(strat);
    const comp = el('p'); comp.appendChild(el('strong',{text:'Completions: '})); comp.appendChild(document.createTextNode(esc(c.completions_strategy))); details.appendChild(comp);
    if (c.notable_quote) details.appendChild(el('div',{class:'card-quote',text:c.notable_quote}));
    expand.appendChild(details);
    card.appendChild(expand);
    grid.appendChild(card);
  });
}

function buildMedTable(list) {
  document.getElementById('med-count').textContent = list.length + ' companies';
  const table = document.getElementById('med-table');
  table.replaceChildren();
  const thead = el('thead'); const hrow = el('tr');
  ['Ticker','Company','Segment','2026 Capex','Completions Signal','Key Tech'].forEach(h => hrow.appendChild(el('th',{text:h})));
  thead.appendChild(hrow); table.appendChild(thead);
  const tbody = el('tbody');
  list.forEach(c => {
    const row = el('tr');
    row.appendChild(el('td',{class:'ticker',text:c.ticker}));
    row.appendChild(el('td',{text:c.company}));
    row.appendChild(el('td',{text:c.segment||''}));
    row.appendChild(el('td',{text:esc(c.capex_guidance)}));
    row.appendChild(el('td',{class:'completions-col',text:trunc(c.completions_strategy,120)}));
    row.appendChild(el('td',{text:listStr((c.technology_mentions||[]).slice(0,3))}));
    tbody.appendChild(row);
  });
  table.appendChild(tbody);
}

function buildLowTable(low) {
  document.getElementById('low-count').textContent = low.length + ' companies';
  const table = document.getElementById('low-table');
  table.replaceChildren();
  const thead = el('thead'); const hrow = el('tr');
  ['Ticker','Company','Segment','Notes'].forEach(h => hrow.appendChild(el('th',{text:h})));
  thead.appendChild(hrow); table.appendChild(thead);
  const tbody = el('tbody');
  low.forEach(c => {
    const row = el('tr');
    row.appendChild(el('td',{class:'ticker',text:c.ticker}));
    row.appendChild(el('td',{text:c.company}));
    row.appendChild(el('td',{text:c.segment||''}));
    const notes = el('td',{text:trunc(c.seismos_relevance_reason,80)}); notes.style.color='var(--text-dim)'; row.appendChild(notes);
    tbody.appendChild(row);
  });
  table.appendChild(tbody);
}

function buildThemes() {
  const container = document.getElementById('themes');
  container.replaceChildren();
  [
    ['Completions Intelligence Is a Three-Horse Race','Halliburton (Zeus IQ), Liberty (Atlas IQ), and ProFrac/Seismos (CLF) are the main platforms. Zeus IQ has the installed base; Atlas IQ is newest; CLF differentiates through acoustic sensing.'],
    ['Simul-Frac Is Table Stakes','Multiple operators (CRGY 70%, COP, PR, EOG) run simul-frac as standard. More complexity per stage means more demand for real-time monitoring.'],
    ['Efficiency Gains Are Plateauing','Several operators report slowing gains after years of optimization. This opens the door for technology-driven step-changes like CLF.'],
    ['E-Frac Creates Digital Completions Infrastructure','Electric frac fleets (now standard for Tier 1) bring better data acquisition \u2014 the sensors and connectivity needed for real-time platforms.'],
    ['International Markets Emerging','Canada (WCP, TCW), Argentina (YPF, VIST), and Colombia (EC) are ramping unconventional development \u2014 future CLF markets as operations mature.'],
  ].forEach(([title,text]) => {
    const t = el('div',{class:'theme'});
    t.appendChild(el('h3',{text:title}));
    t.appendChild(el('p',{text:text}));
    container.appendChild(t);
  });
}

function buildActions() {
  const table = document.getElementById('actions');
  table.replaceChildren();
  const tbody = el('tbody');
  [
    ['HAL','Track Zeus IQ adoption quarterly','8% QoQ growth compounds fast'],
    ['LBRT','Evaluate Atlas IQ competitive positioning','New platform targeting same value prop as CLF'],
    ['PR','Engage Permian Resources','Most tech-forward Permian pure-play, actively optimizing completions'],
    ['OVV','Engage Ovintiv','Running in-house \u201creal-time frac optimization\u201d \u2014 potential CLF conversion'],
    ['CLB','Explore Core Labs partnership','Complementary tracer diagnostics; combined offering'],
    ['CRGY','Target Crescent Energy','70% simul-frac = high complexity where CLF adds most value'],
    ['NINE','Monitor Nine Energy as channel partner','Struggling OFS seeking differentiation'],
  ].forEach(([target,action,rationale],i) => {
    const row = el('tr');
    row.appendChild(el('td',{class:'action-num',text:String(i+1)}));
    row.appendChild(el('td',{class:'action-target',text:target}));
    row.appendChild(el('td',{text:action}));
    const r = el('td',{text:rationale}); r.style.color='var(--text-dim)'; row.appendChild(r);
    tbody.appendChild(row);
  });
  table.appendChild(tbody);
}

function filterMedium() {
  const q = document.getElementById('search-med').value.toLowerCase();
  let med = DATA.filter(d => d.seismos_relevance === 'Medium');
  if (currentSegment !== 'all') med = med.filter(d => (d.segment || '').includes(currentSegment));
  if (q) med = med.filter(d => (d.ticker + ' ' + d.company + ' ' + (d.completions_strategy||'')).toLowerCase().includes(q));
  buildMedTable(med);
}

async function init() {
  const res = await fetch('data/earnings-intel-Q4-2025.json');
  DATA = await res.json();
  const high = DATA.filter(d => d.seismos_relevance === 'High');
  const med = DATA.filter(d => d.seismos_relevance === 'Medium');
  const low = DATA.filter(d => d.seismos_relevance === 'Low');
  buildStats(high, med, low);
  buildFindings();
  buildThreats();
  buildHighCards(high);
  buildMedTable(med);
  buildLowTable(low);
  buildThemes();
  buildActions();

  document.getElementById('search-med').addEventListener('input', filterMedium);
  document.querySelectorAll('.filter-btn').forEach(btn => {
    btn.addEventListener('click', function() {
      currentSegment = this.dataset.seg;
      document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
      this.classList.add('active');
      filterMedium();
    });
  });

  // Tab switching
  document.querySelectorAll('.tab').forEach(tab => {
    tab.addEventListener('click', function() {
      document.querySelectorAll('.tab').forEach(t => t.classList.remove('active'));
      document.querySelectorAll('.tab-content').forEach(c => c.classList.remove('active'));
      this.classList.add('active');
      document.getElementById('tab-' + this.dataset.tab).classList.add('active');
    });
  });

  // Build scoring tab
  buildScoreDistribution(high, med, low);
  buildAllTable(DATA);
  document.getElementById('search-all').addEventListener('input', function() {
    const q = this.value.toLowerCase();
    const filtered = q ? DATA.filter(d => (d.ticker+' '+d.company+' '+(d.seismos_relevance_reason||'')).toLowerCase().includes(q)) : DATA;
    buildAllTable(filtered);
  });

  // Build coverage tab
  buildCoverage();
}

function buildScoreDistribution(high, med, low) {
  const container = document.getElementById('score-distribution');
  container.replaceChildren();
  const total = DATA.length;
  const segments = [
    {label:'Operators',h:high.filter(d=>(d.segment||'').includes('Operator')).length,m:med.filter(d=>(d.segment||'').includes('Operator')).length,l:low.filter(d=>(d.segment||'').includes('Operator')).length},
    {label:'OFS',h:high.filter(d=>(d.segment||'').includes('OFS')||d.segment==='Pumper / Completion Services').length,m:med.filter(d=>(d.segment||'').includes('OFS')||d.segment==='Pumper / Completion Services').length,l:low.filter(d=>(d.segment||'').includes('OFS')||d.segment==='Pumper / Completion Services').length},
    {label:'Majors',h:high.filter(d=>(d.segment||'').includes('Major')).length,m:med.filter(d=>(d.segment||'').includes('Major')).length,l:low.filter(d=>(d.segment||'').includes('Major')).length},
    {label:'International',h:high.filter(d=>(d.segment||'').includes('International')).length,m:med.filter(d=>(d.segment||'').includes('International')).length,l:low.filter(d=>(d.segment||'').includes('International')).length},
  ];
  const table = el('table');
  const thead = el('thead'); const hrow = el('tr');
  ['Segment','High','Medium','Low','Total'].forEach(h => hrow.appendChild(el('th',{text:h})));
  thead.appendChild(hrow); table.appendChild(thead);
  const tbody = el('tbody');
  segments.forEach(s => {
    const row = el('tr');
    row.appendChild(el('td',{text:s.label}));
    const hc = el('td',{text:String(s.h)}); hc.style.color='var(--high)'; hc.style.fontWeight='700'; hc.style.fontFamily='var(--mono)'; row.appendChild(hc);
    const mc = el('td',{text:String(s.m)}); mc.style.color='var(--medium)'; mc.style.fontWeight='700'; mc.style.fontFamily='var(--mono)'; row.appendChild(mc);
    const lc = el('td',{text:String(s.l)}); lc.style.color='var(--low)'; lc.style.fontWeight='700'; lc.style.fontFamily='var(--mono)'; row.appendChild(lc);
    const tc = el('td',{text:String(s.h+s.m+s.l)}); tc.style.fontFamily='var(--mono)'; tc.style.fontWeight='600'; row.appendChild(tc);
    tbody.appendChild(row);
  });
  const totRow = el('tr'); totRow.style.borderTop = '2px solid var(--border-light)';
  const tl = el('td',{text:'TOTAL'}); tl.style.fontWeight='700'; totRow.appendChild(tl);
  const th2 = el('td',{text:String(high.length)}); th2.style.color='var(--high)'; th2.style.fontWeight='700'; th2.style.fontFamily='var(--mono)'; totRow.appendChild(th2);
  const tm = el('td',{text:String(med.length)}); tm.style.color='var(--medium)'; tm.style.fontWeight='700'; tm.style.fontFamily='var(--mono)'; totRow.appendChild(tm);
  const tl2 = el('td',{text:String(low.length)}); tl2.style.color='var(--low)'; tl2.style.fontWeight='700'; tl2.style.fontFamily='var(--mono)'; totRow.appendChild(tl2);
  const tt = el('td',{text:String(total)}); tt.style.fontWeight='700'; tt.style.fontFamily='var(--mono)'; totRow.appendChild(tt);
  tbody.appendChild(totRow);
  table.appendChild(tbody);
  container.appendChild(table);
}

function buildAllTable(list) {
  const table = document.getElementById('all-table');
  table.replaceChildren();
  const thead = el('thead'); const hrow = el('tr');
  ['Ticker','Company','Segment','Score','Reason','Data Quality'].forEach(h => hrow.appendChild(el('th',{text:h})));
  thead.appendChild(hrow); table.appendChild(thead);
  const tbody = el('tbody');
  list.forEach(c => {
    const row = el('tr');
    row.appendChild(el('td',{class:'ticker',text:c.ticker}));
    row.appendChild(el('td',{text:c.company}));
    row.appendChild(el('td',{text:c.segment||''}));
    const sc = el('td'); const badge = el('span',{class:'badge badge-'+(c.seismos_relevance||'low').toLowerCase(), text:c.seismos_relevance||''}); sc.appendChild(badge); row.appendChild(sc);
    row.appendChild(el('td',{text:trunc(c.seismos_relevance_reason,100)}));
    row.appendChild(el('td',{text:c.data_quality||''}));
    tbody.appendChild(row);
  });
  table.appendChild(tbody);
}

function buildCoverage() {
  const WATCHLIST = [
    'COP','EOG','FANG','OXY','DVN','CTRA','EQT','PR','CHRD','SM','MTDR','CRGY','MGY','AR',
    'RRC','EXE','CNX','CRK','GPOR','OVV','APA','REPX','GRNT','CPG','HAL','SLB','BKR','LBRT',
    'ACDC','PTEN','PUMP','WTTR','RES','NINE','NOV','CHX','HP','WFRD','FTI','CLB','NBR','KEI',
    'XOM','CVX','SHEL','BP','TTE','EQNR','YPF','VIST','CNQ','CVE','TOU.TO','ARX.TO','WCP.TO',
    'POU.TO','BTE.TO','CFW.TO','TCW.TO','PD.TO','TBN','BPT.AX','2222.SR','601857.SS','600028.SS',
    'SEI','REI','NOG','PROP','BKV','KLXE','WHD','AESI','FTK','XPRO','NESR','STO.AX','EC',
    '601808.SS','PAM','KEGX'
  ];
  const covered = new Set(DATA.map(d => d.ticker));
  const partial = DATA.filter(d => d.data_quality === 'Limited data').map(d => d.ticker);
  const missing = WATCHLIST.filter(t => !covered.has(t));

  document.getElementById('cov-covered').textContent = covered.size - partial.length;
  document.getElementById('cov-partial').textContent = partial.length;
  document.getElementById('cov-missing').textContent = missing.length;
  document.getElementById('cov-bar').style.width = Math.round(covered.size / WATCHLIST.length * 100) + '%';

  // Missing table
  const mt = document.getElementById('missing-table');
  mt.replaceChildren();
  const mhead = el('thead'); const mhrow = el('tr');
  ['Ticker','Reason Missing','Priority'].forEach(h => mhrow.appendChild(el('th',{text:h})));
  mhead.appendChild(mhrow); mt.appendChild(mhead);
  const mtbody = el('tbody');
  const reasons = {
    '600028.SS':'Sinopec \u2014 Chinese-only earnings, no English transcript available',
    '601808.SS':'COSL \u2014 Chinese-only earnings, no English transcript available',
    '601857.SS':'PetroChina \u2014 Chinese-only earnings, no English transcript available',
    'BPT.AX':'Beach Energy \u2014 Australian, no US-accessible transcript source',
    'PD.TO':'Precision Drilling \u2014 covered under PD (US ticker)',
    'POU.TO':'Paramount Resources \u2014 Canadian, Q4 2025 not yet released',
    'PROP':'Prairie Operating \u2014 micro-cap, no earnings call transcript available',
    'KEI':'Key Energy Services \u2014 covered under KEGX',
    'TCW.TO':'Trican Well Service \u2014 covered under TCW (US ticker)',
    'WCP.TO':'Whitecap Resources \u2014 covered under WCP (US ticker)'
  };
  const priorities = {'POU.TO':'Medium','PROP':'Low','BPT.AX':'Low','600028.SS':'Low','601808.SS':'Low','601857.SS':'Low','PD.TO':'Duplicate','TCW.TO':'Duplicate','WCP.TO':'Duplicate','KEI':'Duplicate'};
  missing.forEach(t => {
    const row = el('tr');
    row.appendChild(el('td',{class:'ticker',text:t}));
    row.appendChild(el('td',{text:reasons[t]||'Not yet analyzed'}));
    const pri = priorities[t]||'Medium';
    const pc = el('td');
    const priClass = pri==='High'?'badge-high':pri==='Duplicate'?'badge-partner':pri==='Medium'?'badge-medium':'badge-low';
    pc.appendChild(el('span',{class:'badge '+priClass,text:pri}));
    row.appendChild(pc);
    mtbody.appendChild(row);
  });
  mt.appendChild(mtbody);

  // Data quality table
  const qt = document.getElementById('quality-table');
  qt.replaceChildren();
  const qhead = el('thead'); const qhrow = el('tr');
  ['Data Quality','Count','Companies'].forEach(h => qhrow.appendChild(el('th',{text:h})));
  qhead.appendChild(qhrow); qt.appendChild(qhead);
  const qtbody = el('tbody');
  const quals = {};
  DATA.forEach(d => { const q = d.data_quality||'Unknown'; if (!quals[q]) quals[q]=[]; quals[q].push(d.ticker); });
  Object.entries(quals).sort((a,b) => b[1].length - a[1].length).forEach(([q, tickers]) => {
    const row = el('tr');
    row.appendChild(el('td',{text:q}));
    const ct = el('td',{text:String(tickers.length)}); ct.style.fontFamily='var(--mono)'; ct.style.fontWeight='600'; row.appendChild(ct);
    row.appendChild(el('td',{text:tickers.join(', ')}));
    qtbody.appendChild(row);
  });
  qt.appendChild(qtbody);
}

init();
</script>
</body>
</html>
